diff --git a/CMakeLists.txt b/CMakeLists.txt
index 71727286..084c8554 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -306,34 +306,36 @@ check_c_source_compiles([=[
   } ]=]  HAVE_REGEX)
 
 set(CMAKE_REQUIRED_LIBRARIES z)
-check_c_source_compiles( [=[
-  #include "zlib.h"
-  int main()
-  {
-      Bytef dest[100];
-      uLongf destlen = 100;
-      Bytef *src = 0;
-      uLong srclen = 3;
-      int res = uncompress(dest,&destlen,src,srclen);
-      if (res == Z_OK) {
-           /* ALL IS WELL */
-      }
-      return 0;
-  } ]=]  HAVE_ZLIB )
-check_c_source_compiles( [=[
-  #include "zlib.h"
-  int main()
-  {
-      Bytef dest[100];
-      uLongf destlen = 100;
-      Bytef *src = 0;
-      uLong srclen = 3;
-      int res = uncompress(dest,&destlen,src,srclen);
-      if (res == Z_OK) {
-           /* ALL IS WELL */
-      }
-      return 0;
-  } ]=]  HAVE_ZLIB_H )
+# check_c_source_compiles( [=[
+#   #include "zlib.h"
+#   int main()
+#   {
+#       Bytef dest[100];
+#       uLongf destlen = 100;
+#       Bytef *src = 0;
+#       uLong srclen = 3;
+#       int res = uncompress(dest,&destlen,src,srclen);
+#       if (res == Z_OK) {
+#            /* ALL IS WELL */
+#       }
+#       return 0;
+#   } ]=]  HAVE_ZLIB )
+# check_c_source_compiles( [=[
+#   #include "zlib.h"
+#   int main()
+#   {
+#       Bytef dest[100];
+#       uLongf destlen = 100;
+#       Bytef *src = 0;
+#       uLong srclen = 3;
+#       int res = uncompress(dest,&destlen,src,srclen);
+#       if (res == Z_OK) {
+#            /* ALL IS WELL */
+#       }
+#       return 0;
+#   } ]=]  HAVE_ZLIB_H )
+set(HAVE_ZLIB no)
+set(HAVE_ZLIB_H no)
 set(CMAKE_REQUIRED_LIBRARIES)
 if (HAVE_ZLIB) 
   # For linking in libz
